[gd_scene load_steps=11 format=3 uid="uid://m8665lqknwro"]

[ext_resource type="PackedScene" uid="uid://q41yd0cm8fdm" path="res://assets/decimated_dragon1.glb" id="1_qbovm"]
[ext_resource type="Script" uid="uid://dli3utnpqjlhe" path="res://systems/IK/IKBoneController3D.gd" id="2_548jf"]
[ext_resource type="Texture2D" uid="uid://b7wi1s3uvl5ea" path="res://addons/godot-prototype-texture/PNG/grid_512x512/grid_black_512x512.png" id="3_v1oi1"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_v1oi1"]
albedo_texture = ExtResource("3_v1oi1")
uv1_scale = Vector3(4, 4, 4)

[sub_resource type="SphereMesh" id="SphereMesh_4c5uq"]
material = SubResource("StandardMaterial3D_v1oi1")
radius = 0.25
height = 0.5

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_200ft"]
radius = 0.25
height = 1.5

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_v1oi1"]
radius = 0.25
height = 1.5

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_4c5uq"]
radius = 0.25
height = 1.5

[sub_resource type="BoxShape3D" id="BoxShape3D_4c5uq"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_4c5uq"]

[node name="Dragon" instance=ExtResource("1_qbovm")]

[node name="Armature" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)

[node name="Skeleton3D" parent="Armature" index="0"]
animate_physical_bones = false
bones/27/position = Vector3(0.000335686, 0.925315, -0.00236759)
bones/27/rotation = Quaternion(0.060285, -0.000521716, 0.00851512, 0.998145)
bones/28/position = Vector3(5.93718e-09, 1.01968, -2.98023e-08)
bones/28/rotation = Quaternion(7.7635e-06, -3.96955e-05, -3.87492e-08, 1)
bones/28/scale = Vector3(1, 1, 1)
bones/29/position = Vector3(2.09548e-09, 0.878279, 2.98023e-08)
bones/29/rotation = Quaternion(1.30385e-05, 9.56929e-05, -6.16673e-08, 1)
bones/29/scale = Vector3(1, 1, 1)
bones/30/position = Vector3(3.0268e-09, 1.06457, -5.96046e-08)
bones/30/rotation = Quaternion(2.08169e-05, -2.411e-05, -9.70541e-08, 1)
bones/30/scale = Vector3(1, 1, 1)
bones/31/position = Vector3(2.32831e-09, 0.951672, 1.19209e-07)
bones/31/rotation = Quaternion(2.34544e-05, 4.8209e-05, -1.08582e-07, 1)
bones/31/scale = Vector3(1, 1, 1)
bones/32/position = Vector3(1.39698e-09, 0.84411, -2.38419e-07)
bones/32/rotation = Quaternion(2.88338e-05, 0.000134559, -1.28037e-07, 1)
bones/32/scale = Vector3(1, 1, 1)
bones/33/position = Vector3(2.79397e-09, 1.14815, -2.38419e-07)
bones/33/rotation = Quaternion(3.72678e-05, 6.22006e-05, -1.58606e-07, 1)
bones/33/scale = Vector3(1, 1, 1)
bones/34/position = Vector3(2.79397e-09, 1.1111, 0)
bones/34/rotation = Quaternion(3.34382e-05, -5.62959e-05, -1.42065e-07, 1)
bones/34/scale = Vector3(1, 1, 1)
bones/35/position = Vector3(4.65661e-09, 1.01045, 4.76837e-07)
bones/35/rotation = Quaternion(3.15755e-05, -0.000113029, -1.39447e-07, 1)
bones/35/scale = Vector3(1, 1, 1)
bones/36/position = Vector3(1.86265e-09, 1.11863, -2.38419e-07)
bones/36/rotation = Quaternion(3.05772e-05, -9.06843e-05, -1.41291e-07, 1)
bones/36/scale = Vector3(1, 1, 1)
bones/37/position = Vector3(1.86265e-09, 1.06294, 2.38419e-07)
bones/37/rotation = Quaternion(2.68221e-05, -8.24146e-05, -1.28466e-07, 1)
bones/37/scale = Vector3(1, 1, 1)
bones/38/position = Vector3(1.86265e-09, 1.29956, -7.15256e-07)
bones/38/rotation = Quaternion(2.16514e-05, -0.000104893, -1.07858e-07, 1)
bones/38/scale = Vector3(1, 1, 1)
bones/39/position = Vector3(5.58794e-09, 0.98813, 9.53674e-07)
bones/39/rotation = Quaternion(1.01924e-05, 7.73571e-05, -5.09635e-08, 1)
bones/39/scale = Vector3(1, 1, 1)

[node name="Mesh1" parent="Armature/Skeleton3D" index="0"]
visible = false

[node name="TailController" type="Node3D" parent="Armature/Skeleton3D" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.43051e-06, -15.9892, -3.98868)
script = ExtResource("2_548jf")
depth = 13
simulation_enabled = true
editor_preview = true
root_stiffness = 1.0
root_pitch = 0.109
gravity = 0.033
stiffness = 0.674
metadata/_custom_type_script = "uid://dli3utnpqjlhe"

[node name="TailTarget" type="MeshInstance3D" parent="Armature/Skeleton3D/TailController" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.630466, -2.8965)
mesh = SubResource("SphereMesh_4c5uq")
skeleton = NodePath("../../../..")
metadata/_custom_type_script = "uid://4mlml6ysrb1b"

[node name="Tail_014" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="1"]
transform = Transform3D(0.999988, 8.69949e-08, -0.00493008, 0.0021171, -0.90311, 0.429405, -0.00445236, -0.42941, -0.903099, -3.16309e-07, 3.80526, -1.38696)
bone_name = "Tail.014"
bone_idx = 39
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_014" index="0"]
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_014/RigidBody3D" index="0"]
transform = Transform3D(1, -1.73226e-07, -0.000856238, 1.57394e-07, 1, -1.46627e-05, 0.000856242, 1.47521e-05, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_200ft")

[node name="Tail_013" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="2"]
transform = Transform3D(0.999987, 8.71447e-08, -0.00508479, 0.00218345, -0.903118, 0.429386, -0.00459213, -0.429392, -0.903107, -4.03157e-07, 4.69765, -0.962668)
bone_name = "Tail.013"
bone_idx = 38
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_013" index="0"]
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_013/RigidBody3D" index="0"]
transform = Transform3D(0.999999, -7.54371e-08, 0.00143118, 7.45058e-08, 1, 2.08616e-06, -0.00143117, -1.84774e-06, 0.999999, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_v1oi1")

[node name="Tail_012" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="3"]
transform = Transform3D(0.999988, 8.70751e-08, -0.00487501, 0.00209318, -0.903137, 0.429347, -0.00440276, -0.429353, -0.903126, -5.21666e-07, 5.87134, -0.404699)
bone_name = "Tail.012"
bone_idx = 37
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_012" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_012/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="Tail_011" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="4"]
transform = Transform3D(0.999989, 8.72414e-08, -0.00471018, 0.00202218, -0.90316, 0.429299, -0.00425401, -0.429304, -0.90315, -6.15139e-07, 6.83134, 0.0516264)
bone_name = "Tail.011"
bone_idx = 36
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_011" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_011/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="Tail_010" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="5"]
transform = Transform3D(0.99999, 8.71645e-08, -0.00452881, 0.00194407, -0.903186, 0.429244, -0.00409032, -0.429249, -0.903177, -7.15586e-07, 7.84168, 0.531799)
bone_name = "Tail.010"
bone_idx = 35
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_010" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_010/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="Tail_009" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="6"]
transform = Transform3D(0.999991, 8.71344e-08, -0.00430276, 0.00184679, -0.903213, 0.429188, -0.00388627, -0.429192, -0.903205, -8.06236e-07, 8.75433, 0.965475)
bone_name = "Tail.009"
bone_idx = 34
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_009" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_009/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="Tail_008" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="7"]
transform = Transform3D(0.999991, 8.69948e-08, -0.00419017, 0.00179821, -0.903242, 0.429128, -0.0037847, -0.429131, -0.903234, -9.05689e-07, 9.75792, 1.44228)
bone_name = "Tail.008"
bone_idx = 33
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_008" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_008/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="Tail_007" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="8"]
transform = Transform3D(0.999991, 8.67393e-08, -0.00431457, 0.00185131, -0.903274, 0.42906, -0.0038972, -0.429064, -0.903266, -1.0091e-06, 10.795, 1.93491)
bone_name = "Tail.007"
bone_idx = 32
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_007" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_007/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="Tail_006" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="9"]
transform = Transform3D(0.99999, 8.72384e-08, -0.00458368, 0.00196654, -0.903299, 0.429007, -0.0041404, -0.429012, -0.90329, -1.08523e-06, 11.5575, 2.29704)
bone_name = "Tail.006"
bone_idx = 31
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_006" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_006/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="Tail_005" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="10"]
transform = Transform3D(0.999989, 8.73534e-08, -0.0046801, 0.0020077, -0.903319, 0.428965, -0.00422758, -0.42897, -0.903309, -1.17013e-06, 12.4172, 2.70528)
bone_name = "Tail.005"
bone_idx = 30
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_005" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_005/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="Tail_004" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="11"]
transform = Transform3D(0.999989, 8.70939e-08, -0.00463188, 0.00198684, -0.903337, 0.428927, -0.00418411, -0.428932, -0.903327, -1.26615e-06, 13.3788, 3.16191)
bone_name = "Tail.004"
bone_idx = 29
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_004" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_004/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="Tail_003" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="12"]
transform = Transform3D(0.999988, 8.70419e-08, -0.00482326, 0.00206882, -0.903348, 0.428903, -0.00435705, -0.428908, -0.903338, -1.34455e-06, 14.1722, 3.53861)
bone_name = "Tail.003"
bone_idx = 28
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_003" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_003/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="Tail_002" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="13"]
transform = Transform3D(0.999989, 8.3819e-08, -0.00474387, 0.0020347, -0.903355, 0.428889, -0.00428536, -0.428894, -0.903345, -1.4361e-06, 15.0933, 3.97594)
bone_name = "Tail.002"
bone_idx = 27
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_002" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_002/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="Tail_001" type="BoneAttachment3D" parent="Armature/Skeleton3D/TailController" index="14"]
transform = Transform3D(0.999843, 0.0175066, -0.00264124, 0.0174407, -0.948242, 0.317069, 0.00304626, -0.317065, -0.948399, -0.0165424, 15.9715, 4.26708)
bone_name = "Tail.001"
bone_idx = 26
use_external_skeleton = true
external_skeleton = NodePath("../..")

[node name="RigidBody3D" type="RigidBody3D" parent="Armature/Skeleton3D/TailController/Tail_001" index="0"]
transform = Transform3D(1, 0, -4.65661e-10, 0, 1, -2.98023e-08, -9.31323e-10, 0, 1, 0, 0, 0)
collision_layer = 0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Armature/Skeleton3D/TailController/Tail_001/RigidBody3D" index="0"]
transform = Transform3D(1, -9.31323e-10, 9.31323e-10, 9.31323e-10, 1, 2.98023e-08, 4.65661e-10, 0, 1, 0, 0.5, 0)
shape = SubResource("CapsuleShape3D_4c5uq")

[node name="CharacterBody3D" type="CharacterBody3D" parent="." index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.38419e-07, 1.19209e-07)

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.4655, 0.0220129)
shape = SubResource("BoxShape3D_4c5uq")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBody3D" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.22607, 0)
mesh = SubResource("CapsuleMesh_4c5uq")

[node name="PinJoint3D" type="PinJoint3D" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 2.98023e-08, 0, -2.98023e-08, 1, 0, -7.15256e-07, 3.57628e-07)
node_a = NodePath("../CharacterBody3D")

[node name="MeshInstance3D" type="MeshInstance3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.47491, -2.08235)
